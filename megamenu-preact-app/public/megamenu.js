!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):"object"==typeof exports?exports.MegaMenu=t(require("preact")):e.MegaMenu=t(e.preact)}(self,(e=>(()=>{"use strict";var t={935:t=>{t.exports=e}},n={},o={},r=function e(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return t[o](i,i.exports,e),i.exports}(935);const i=function(e){var t=e.columns,n=e.isMobileView,o=e.parentId,i=e.featuredImage;return console.log("SubMenu - columns data:",t),console.log("SubMenu - Featured Image:",i),t&&t.length?(0,r.h)("div",{className:"submenu ".concat(n?"mobile":""),role:"region","aria-label":"Submenu for item ".concat(o)},i&&(0,r.h)("div",{className:"column featured-image-column"},(0,r.h)("div",{className:"featured-image"},(0,r.h)("img",{src:i,alt:"Featured image for submenu ".concat(o)}))),t.map((function(e,t){console.log("SubMenu - Column ".concat(t,":"),e);var n="horizontal"===e.style;return(0,r.h)("div",{key:t,className:"column"},e.title&&(0,r.h)("h4",{className:"column-title"},e.title),(0,r.h)("div",{className:"menus-container ".concat(n?"horizontal-container":"vertical-container")},e.menus&&e.menus.map((function(e){return(0,r.h)("div",{key:e.id,className:"menu-container"},e.title&&(0,r.h)("h5",{className:"menu-title"},e.title),(0,r.h)("ul",{className:"menu",role:"menu"},e.items&&e.items.map((function(e){return(0,r.h)("li",{key:e.id,role:"menuitem"},(0,r.h)("a",{href:e.url},e.title))}))))}))))}))):null};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,p(o.key),o)}}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}const d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return f(e=function(e,t,n){return t=l(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}(this,t,[].concat(o)),"state",{activeMenu:null}),f(e,"handleKeyDown",(function(t){"Escape"===t.key&&null!==e.state.activeMenu&&(e.setState({activeMenu:null}),t.preventDefault())})),f(e,"handleMouseEnter",(function(t){e.setState({activeMenu:t})})),f(e,"handleMenuLeave",(function(){e.setState({activeMenu:null})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,o=t.onMenuClose,a=this.state.activeMenu;return n&&n.topMenu&&n.topMenu.items?(null===a&&null!==this.prevActiveMenu&&o&&o(),this.prevActiveMenu=a,(0,r.h)("div",{className:"megamenu-container desktop",onMouseLeave:this.handleMenuLeave},(0,r.h)("nav",{className:"megamenu","aria-label":"Main Navigation"},(0,r.h)("ul",{className:"top-menu"},n.topMenu.items.map((function(t){return(0,r.h)("li",{key:t.id,onMouseEnter:function(){return e.handleMouseEnter(t.id)},className:a===t.id?"active":""},(0,r.h)("a",{href:t.url,"aria-expanded":a===t.id,"aria-haspopup":n.subMenus[t.id]?"true":"false"},t.title))})))),null!==a&&n.subMenus[a]&&(0,r.h)("div",{className:"submenu-wrapper"},(0,r.h)(i,{columns:n.subMenus[a],isMobileView:!1,parentId:a,featuredImage:n.submenuImages&&n.submenuImages[a]})))):null}}])&&u(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,g(o.key),o)}}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function w(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}const M=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return w(e=function(e,t,n){return t=y(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}(this,t,[].concat(o)),"state",{activeMenu:null}),w(e,"handleKeyDown",(function(t){"Escape"===t.key&&null!==e.state.activeMenu&&(e.setState({activeMenu:null}),t.preventDefault())})),w(e,"handleMenuClick",(function(t,n){e.props.data.subMenus[t]&&(n.preventDefault(),e.setState((function(e){return{activeMenu:e.activeMenu===t?null:t}})))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),n=t,o=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,o=t.mobileMenuOpen,a=t.onMenuClose,u=this.state.activeMenu;return n&&n.topMenu&&n.topMenu.items?(null===u&&null!==this.prevActiveMenu&&a&&a(),this.prevActiveMenu=u,(0,r.h)("div",{className:"megamenu-container mobile"},(0,r.h)("nav",{className:"megamenu","aria-label":"Main Navigation"},(0,r.h)("ul",{className:"top-menu ".concat(o?"mobile-open":"")},n.topMenu.items.map((function(t){return(0,r.h)("li",{key:t.id,className:u===t.id?"active":""},(0,r.h)("a",{href:t.url,onClick:function(n){return e.handleMenuClick(t.id,n)},"aria-expanded":u===t.id,"aria-haspopup":n.subMenus[t.id]?"true":"false"},t.title,n.subMenus[t.id]&&(0,r.h)("span",{className:"dropdown-indicator","aria-hidden":"true"})),u===t.id&&n.subMenus[t.id]&&(0,r.h)("div",{className:"submenu-wrapper mobile"},(0,r.h)(i,{columns:n.subMenus[t.id],isMobileView:!0,parentId:t.id,featuredImage:n.submenuImages&&n.submenuImages[t.id]})))})))))):null}}],o&&b(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component),O=function(e){return e.isMobileView?(0,r.h)(M,e):(0,r.h)(d,e)};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,E(o.key),o)}}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function N(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}const _=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return N(e=function(e,t,n){return t=P(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,n||[],P(e).constructor):t.apply(e,n))}(this,t,[].concat(o)),"state",{isDashboardOpen:!1}),N(e,"toggleDashboard",(function(t){t.preventDefault(),e.setState((function(e){return{isDashboardOpen:!e.isDashboardOpen}}))})),N(e,"closeDashboard",(function(){e.setState({isDashboardOpen:!1})})),N(e,"handleKeyDown",(function(t){"Escape"===t.key&&e.state.isDashboardOpen&&e.closeDashboard()})),N(e,"handleClickOutside",(function(t){e.dashboardRef&&!e.dashboardRef.contains(t.target)&&e.state.isDashboardOpen&&e.closeDashboard()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("click",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("click",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props.data,n=this.state.isDashboardOpen;return t&&t.smallMenu&&t.dashboards?(0,r.h)("div",{className:"top-bar-desktop"},(0,r.h)("div",{className:"topbar-logobar"},(0,r.h)("div",{className:"crest"},(0,r.h)("img",{src:"https://life.edu/wp-content/themes/life/images/lifecrest.jpg"})),(0,r.h)("h1",{className:"banner-logo"},(0,r.h)("a",{className:"logo2020",href:"/",title:"Home"},(0,r.h)("i",{className:"icon-logo"})))),(0,r.h)("div",{className:"small-menu-container"},(0,r.h)("ul",{className:"small-menu"},t.smallMenu.items.map((function(e){return(0,r.h)("li",{key:e.id},(0,r.h)("a",{href:e.url},e.title))})))),(0,r.h)("div",{className:"dashboard-menu-container",ref:function(t){return e.dashboardRef=t}},(0,r.h)("a",{href:"#",className:"dashboard-toggle ".concat(n?"active":""),onClick:this.toggleDashboard,"aria-expanded":n,"aria-haspopup":"true"},"Dashboards",(0,r.h)("span",{className:"dropdown-indicator","aria-hidden":"true"})),n&&(0,r.h)("div",{className:"dashboard-dropdown"},(0,r.h)("ul",null,t.dashboards.items.map((function(e){return(0,r.h)("li",{key:e.id},(0,r.h)("a",{href:e.url},e.title))})))))):null}}])&&k(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,I(o.key),o)}}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function V(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}const K=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return V(e=function(e,t,n){return t=x(t),function(e,t){if(t&&("object"==C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,n||[],x(e).constructor):t.apply(e,n))}(this,t,[].concat(o)),"state",{isMobileView:!1,mobileMenuOpen:!1}),V(e,"checkMobileView",(function(){var t=window.innerWidth<=768;t!==e.state.isMobileView&&e.setState({isMobileView:t,mobileMenuOpen:!1})})),V(e,"handleKeyDown",(function(t){"Escape"===t.key&&e.state.mobileMenuOpen&&(e.setState({mobileMenuOpen:!1}),t.preventDefault())})),V(e,"toggleMobileMenu",(function(){e.setState((function(e){return{mobileMenuOpen:!e.mobileMenuOpen}}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.checkMobileView(),window.addEventListener("resize",this.checkMobileView),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkMobileView),document.removeEventListener("keydown",this.handleKeyDown)}},{key:"renderMobileHeader",value:function(){var e=this,t=this.props.data,n=this.state.mobileMenuOpen;return(0,r.h)("header",{className:"site-header mobile"},(0,r.h)("div",{className:"header-container"},(0,r.h)("div",{className:"logo-container"},(0,r.h)("a",{href:"/",className:"site-logo"},t.logo?(0,r.h)("img",{src:t.logo,alt:t.siteTitle||"Site Logo"}):(0,r.h)("span",{className:"site-title"},t.siteTitle||"Site Title"))),(0,r.h)("button",{className:"mobile-menu-toggle ".concat(n?"active":""),onClick:this.toggleMobileMenu,"aria-expanded":n,"aria-label":"Toggle menu"},(0,r.h)("span",{className:"menu-icon"}),(0,r.h)("span",{className:"sr-only"},"Menu")),(0,r.h)(O,{data:t,isMobileView:!0,mobileMenuOpen:n,onMenuClose:function(){return e.setState({mobileMenuOpen:!1})}})))}},{key:"renderDesktopHeader",value:function(){var e=this.props.data;return(0,r.h)("header",null,(0,r.h)("div",{className:"header-container"},(0,r.h)(_,{data:e}),(0,r.h)(O,{data:e,isMobileView:!1,mobileMenuOpen:!1,onMenuClose:function(){}})))}},{key:"render",value:function(){var e=this.props.data,t=this.state.isMobileView;return e?t?this.renderMobileHeader():this.renderDesktopHeader():null}}])&&T(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component);var B=function(){var e=document.getElementById("megamenu-container");e&&window.megamenuData&&(0,r.render)((0,r.h)(K,{data:window.megamenuData}),e)};return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",B):B(),o.default})()));