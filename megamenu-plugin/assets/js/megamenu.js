!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):"object"==typeof exports?exports.MegaMenu=t(require("preact")):e.MegaMenu=t(e.preact)}(self,(e=>(()=>{"use strict";var t={935:t=>{t.exports=e}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};o.d(i,{default:()=>v});var r=o(935);const a=function(e){var t=e.columns,n=e.isMobileView,o=e.parentId,i=e.featuredImage;return console.log("SubMenu - columns data:",t),console.log("SubMenu - Featured Image:",i),t&&t.length?(0,r.h)("div",{className:"submenu ".concat(n?"mobile":""),role:"region","aria-label":"Submenu for item ".concat(o)},i&&(0,r.h)("div",{className:"column featured-image-column"},(0,r.h)("div",{className:"featured-image"},(0,r.h)("img",{src:i,alt:"Featured image for submenu ".concat(o)}))),t.map((function(e,t){console.log("SubMenu - Column ".concat(t,":"),e);var n="horizontal"===e.style;return(0,r.h)("div",{key:t,className:"column"},e.title&&(0,r.h)("h4",{className:"column-title"},e.title),(0,r.h)("div",{className:"menus-container ".concat(n?"horizontal-container":"vertical-container")},e.menus&&e.menus.map((function(e){return(0,r.h)("div",{key:e.id,className:"menu-container"},e.title&&(0,r.h)("h5",{className:"menu-title"},e.title),(0,r.h)("ul",{className:"menu ".concat(n?"horizontal-menu":"vertical-menu"),role:"menu"},e.items&&e.items.map((function(e){return(0,r.h)("li",{key:e.id,role:"menuitem"},(0,r.h)("a",{href:e.url},e.title))}))))}))))}))):null};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,d(o.key),o)}}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function f(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}const p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return f(e=function(e,t,n){return t=s(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}(this,t,[].concat(o)),"state",{activeMenu:null,isMobileView:!1,mobileMenuOpen:!1}),f(e,"checkMobileView",(function(){var t=window.innerWidth<=768;t!==e.state.isMobileView&&e.setState({isMobileView:t,mobileMenuOpen:!1,activeMenu:null})})),f(e,"handleKeyDown",(function(t){"Escape"===t.key&&null!==e.state.activeMenu&&(e.setState({activeMenu:null}),t.preventDefault())})),f(e,"handleMouseEnter",(function(t){e.state.isMobileView||e.setState({activeMenu:t})})),f(e,"handleMouseLeave",(function(){e.state.isMobileView||e.setState({activeMenu:null})})),f(e,"handleMenuLeave",(function(){e.state.isMobileView||e.setState({activeMenu:null})})),f(e,"handleMenuClick",(function(t,n){e.state.isMobileView&&e.props.data.subMenus[t]&&(n.preventDefault(),e.setState((function(e){return{activeMenu:e.activeMenu===t?null:t}})))})),f(e,"toggleMobileMenu",(function(){e.setState((function(e){return{mobileMenuOpen:!e.mobileMenuOpen,activeMenu:null}}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,o=[{key:"componentDidMount",value:function(){this.checkMobileView(),window.addEventListener("resize",this.checkMobileView),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkMobileView),document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.props.data,n=this.state,o=n.activeMenu,i=n.isMobileView,u=n.mobileMenuOpen;return t&&t.topMenu&&t.topMenu.items?(0,r.h)("div",{className:"megamenu-container",onMouseLeave:this.handleMenuLeave},(0,r.h)("nav",{className:"megamenu","aria-label":"Main Navigation"},i&&(0,r.h)("button",{className:"mobile-menu-toggle ".concat(u?"active":""),onClick:this.toggleMobileMenu,"aria-expanded":u,"aria-label":"Toggle menu"},(0,r.h)("span",{className:"menu-icon"}),(0,r.h)("span",{className:"sr-only"},"Menu")),(0,r.h)("ul",{className:"top-menu ".concat(i&&u?"mobile-open":"")},t.topMenu.items.map((function(n){return(0,r.h)("li",{key:n.id,onMouseEnter:function(){return e.handleMouseEnter(n.id)},className:o===n.id?"active":""},(0,r.h)("a",{href:n.url,onClick:function(t){return e.handleMenuClick(n.id,t)},"aria-expanded":o===n.id,"aria-haspopup":t.subMenus[n.id]?"true":"false"},n.title,t.subMenus[n.id]&&i&&(0,r.h)("span",{className:"dropdown-indicator","aria-hidden":"true"})))})))),null!==o&&t.subMenus[o]&&(0,r.h)("div",{className:"submenu-wrapper"},console.log("MegaMenu - submenu data:",t.subMenus[o]),(0,r.h)(a,{columns:t.subMenus[o],isMobileView:i,parentId:o,featuredImage:t.submenuImages&&t.submenuImages[o]}))):null}}],o&&c(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(r.Component);var b=function(){var e=document.getElementById("megamenu-container");e&&window.megamenuData&&(0,r.render)((0,r.h)(p,{data:window.megamenuData}),e)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",b):b();const v=p;return i.default})()));