!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):"object"==typeof exports?exports.MegaMenu=t(require("preact")):e.MegaMenu=t(e.preact)}(self,(e=>(()=>{"use strict";var t={935:t=>{t.exports=e}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};o.d(r,{default:()=>v});var i=o(935);const a=function(e){var t=e.columns,n=e.isMobileView,o=e.parentId,r=e.featuredImage;return t&&t.length?(0,i.h)("div",{className:"submenu ".concat(n?"mobile":""),role:"region","aria-label":"Submenu for item ".concat(o)},r&&(0,i.h)("div",{className:"column featured-image-column"},(0,i.h)("div",{className:"featured-image"},(0,i.h)("img",{src:r,alt:"Featured image for submenu ".concat(o)}))),t.map((function(e,t){return(0,i.h)("div",{key:t,className:"column"},e.menus&&e.menus.map((function(e){return(0,i.h)("ul",{key:e.id,className:"menu",role:"menu"},e.items&&e.items.map((function(e){return(0,i.h)("li",{key:e.id,role:"menuitem"},(0,i.h)("a",{href:e.url},e.title))})))})))}))):null};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,p(o.key),o)}}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}const d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return m(e=function(e,t,n){return t=s(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}(this,t,[].concat(o)),"state",{activeMenu:null,isMobileView:!1,mobileMenuOpen:!1}),m(e,"checkMobileView",(function(){var t=window.innerWidth<=768;t!==e.state.isMobileView&&e.setState({isMobileView:t,mobileMenuOpen:!1,activeMenu:null})})),m(e,"handleKeyDown",(function(t){"Escape"===t.key&&null!==e.state.activeMenu&&(e.setState({activeMenu:null}),t.preventDefault())})),m(e,"handleMouseEnter",(function(t){e.state.isMobileView||e.setState({activeMenu:t})})),m(e,"handleMouseLeave",(function(){e.state.isMobileView||e.setState({activeMenu:null})})),m(e,"handleMenuLeave",(function(){e.state.isMobileView||e.setState({activeMenu:null})})),m(e,"handleMenuClick",(function(t,n){e.state.isMobileView&&e.props.data.subMenus[t]&&(n.preventDefault(),e.setState((function(e){return{activeMenu:e.activeMenu===t?null:t}})))})),m(e,"toggleMobileMenu",(function(){e.setState((function(e){return{mobileMenuOpen:!e.mobileMenuOpen,activeMenu:null}}))})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,o=[{key:"componentDidMount",value:function(){this.checkMobileView(),window.addEventListener("resize",this.checkMobileView),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkMobileView),document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.props.data,n=this.state,o=n.activeMenu,r=n.isMobileView,u=n.mobileMenuOpen;return t&&t.topMenu&&t.topMenu.items?(0,i.h)("div",{className:"megamenu-container",onMouseLeave:this.handleMenuLeave},(0,i.h)("nav",{className:"megamenu","aria-label":"Main Navigation"},r&&(0,i.h)("button",{className:"mobile-menu-toggle ".concat(u?"active":""),onClick:this.toggleMobileMenu,"aria-expanded":u,"aria-label":"Toggle menu"},(0,i.h)("span",{className:"menu-icon"}),(0,i.h)("span",{className:"sr-only"},"Menu")),(0,i.h)("ul",{className:"top-menu ".concat(r&&u?"mobile-open":"")},t.topMenu.items.map((function(n){return(0,i.h)("li",{key:n.id,onMouseEnter:function(){return e.handleMouseEnter(n.id)},className:o===n.id?"active":""},(0,i.h)("a",{href:n.url,onClick:function(t){return e.handleMenuClick(n.id,t)},"aria-expanded":o===n.id,"aria-haspopup":t.subMenus[n.id]?"true":"false"},n.title,t.subMenus[n.id]&&r&&(0,i.h)("span",{className:"dropdown-indicator","aria-hidden":"true"})))})))),null!==o&&t.subMenus[o]&&(0,i.h)("div",{className:"submenu-wrapper"},(0,i.h)(a,{columns:t.subMenus[o],isMobileView:r,parentId:o,featuredImage:t.submenuImages&&t.submenuImages[o]}))):null}}],o&&c(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(i.Component);var b=function(){var e=document.getElementById("megamenu-container");e&&window.megamenuData&&(0,i.render)((0,i.h)(d,{data:window.megamenuData}),e)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",b):b();const v=d;return r.default})()));